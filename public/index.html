<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–î–¢–ü –ú–æ—Å–∫–≤—ã ‚Äî –ê–Ω–∞–ª–∏—Ç–∏–∫–∞</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/styles.css" rel="stylesheet">
</head>

<body class="bg-light">

<nav class="navbar navbar-expand-lg bg-white border-bottom sticky-top shadow-sm">
  <div class="container-fluid px-4">
    <a class="navbar-brand d-flex align-items-center gap-2" href="#">
      <span class="brand-icon">üö¶</span>
      <span class="fw-bold text-dark">DTP Analytics</span>
    </a>
    <div class="ms-auto">
      <button id="logout" class="btn btn-sm btn-outline-danger">–í—ã–π—Ç–∏</button>
    </div>
  </div>
</nav>

<div class="container-fluid px-4 py-3 h-100">
  <div class="row g-3 h-100">

    <div class="col-lg-3 col-xl-3 d-flex flex-column gap-3" style="max-height: calc(100vh - 80px); overflow-y: auto;">

      <div class="card border-0 shadow-sm">
        <div class="card-header bg-white border-0 pt-3 pb-0">
          <h6 class="fw-bold mb-0 text-uppercase text-muted small spacing-1">–£—Å–ª–æ–≤–∏—è –¥–≤–∏–∂–µ–Ω–∏—è</h6>
        </div>
        <div class="card-body">

          <div class="mb-3 position-relative">
            <label class="form-label fw-medium small text-muted">–†–∞–π–æ–Ω</label>
            <input id="region" class="form-control bg-light border-0" placeholder="–í—Å—è –ú–æ—Å–∫–≤–∞">
            <div id="regionSuggest" class="suggest-box d-none shadow"></div>
          </div>

          <div class="row g-2 mb-3">
            <div class="col-6">
               <label class="form-label fw-medium small text-muted">–ü–æ–≥–æ–¥–∞</label>
               <select id="weatherInput" class="form-select bg-light border-0 small">
                 <option value="">–õ—é–±–∞—è</option>
                 <option value="–Ø—Å–Ω–æ">–Ø—Å–Ω–æ</option>
                 <option value="–ü–∞—Å–º—É—Ä–Ω–æ">–ü–∞—Å–º—É—Ä–Ω–æ</option>
                 <option value="–î–æ–∂–¥—å">–î–æ–∂–¥—å</option>
                 <option value="–°–Ω–µ–≥–æ–ø–∞–¥">–°–Ω–µ–≥–æ–ø–∞–¥</option>
                 <option value="–ú–µ—Ç–µ–ª—å">–ú–µ—Ç–µ–ª—å</option>
                 <option value="–¢—É–º–∞–Ω">–¢—É–º–∞–Ω</option>
               </select>
            </div>
            <div class="col-6">
               <label class="form-label fw-medium small text-muted">–ü–æ–∫—Ä—ã—Ç–∏–µ</label>
               <select id="roadInput" class="form-select bg-light border-0 small">
                 <option value="">–õ—é–±–æ–µ</option>
                 <option value="–°—É—Ö–æ–µ">–°—É—Ö–æ–µ</option>
                 <option value="–ú–æ–∫—Ä–æ–µ">–ú–æ–∫—Ä–æ–µ</option>
                 <option value="–ì–æ–ª–æ–ª–µ–¥–∏—Ü–∞">–ì–æ–ª–æ–ª–µ–¥–∏—Ü–∞</option>
                 <option value="–ó–∞—Å–Ω–µ–∂–µ–Ω–Ω–æ–µ">–ó–∞—Å–Ω–µ–∂–µ–Ω–Ω–æ–µ</option>
               </select>
            </div>
          </div>

          <div class="mb-3 position-relative">
            <label class="form-label fw-medium small text-muted">–¢–∏–ø –î–¢–ü</label>
            <input id="category" class="form-control bg-light border-0" placeholder="–í—Å–µ —Ç–∏–ø—ã">
            <div id="categorySuggest" class="suggest-box d-none shadow"></div>
          </div>

          <button id="applyFilters" class="btn btn-primary w-100 fw-medium">
            –ü–æ–∫–∞–∑–∞—Ç—å –î–¢–ü
          </button>

          <div class="mt-2 text-center">
             <span class="badge bg-secondary-subtle text-secondary rounded-pill" id="status">–ñ–¥—É –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤</span>
          </div>
        </div>
      </div>

      <div class="card border-0 shadow-sm">
        <div class="card-header bg-white border-0 pt-3 pb-0">
          <h6 class="fw-bold mb-0 text-uppercase text-muted small spacing-1">–ê–Ω–∞–ª–∏–∑ —Ä–∏—Å–∫–æ–≤</h6>
        </div>
        <div class="card-body">
          <p class="small text-muted mb-3">
            –ù–∞–π—Ç–∏ –æ—á–∞–≥–∏ –∞–≤–∞—Ä–∏–π–Ω–æ—Å—Ç–∏ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π (–≥–¥–µ –æ–ø–∞—Å–Ω–µ–µ –≤—Å–µ–≥–æ –ø—Ä–∏ —Ç–µ–∫—É—â–µ–π –ø–æ–≥–æ–¥–µ).
          </p>

          <button id="runCluster" class="btn btn-dark w-100 fw-medium position-relative">
            <span>üîç –ê–Ω–∞–ª–∏–∑ –æ–ø–∞—Å–Ω—ã—Ö –∑–æ–Ω</span>
          </button>

          <div class="small text-muted mt-2 text-center" id="mlStatus" style="min-height: 20px;"></div>

          <div id="legend" class="d-flex flex-column gap-2 small mt-2"></div>
        </div>
      </div>

      <div class="small text-muted text-center py-2 opacity-75">
        API: Yandex Maps &bull; Data: dtp-stat.ru
      </div>
    </div>

    <div class="col-lg-9 col-xl-9">
      <div class="card border-0 shadow-sm h-100 overflow-hidden">
        <div id="map" class="h-100 w-100" style="min-height: 600px;"></div>
      </div>
    </div>

  </div>
</div>

<script src="https://api-maps.yandex.ru/2.1/?apikey=9e226a60-c4ba-4fd7-a1ba-eb528cb89743&lang=ru_RU"></script>
<script src="/js/app.js"></script>
</body>
</html>